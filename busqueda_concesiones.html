<!DOCTYPE html>
<!--
Copyright 2020 Ayuntamiento de A Coruña, Ayuntamiento de Madrid, Ayuntamiento de Santiago de Compostela, Ayuntamiento de Zaragoza, Entidad Pública Empresarial Red.es

This visualization is part of the actions carried out within the "Ciudades Abiertas" project.

Licensed under the EUPL, Version 1.2 or – as soon they will be approved by the European Commission - subsequent versions of the EUPL (the "Licence");
You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at:

https://joinup.ec.europa.eu/software/page/eupl

Unless required by applicable law or agreed to in writing, software distributed under the Licence is distributed on an "AS IS" basis,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the Licence for the specific language governing permissions and limitations under the Licence.
-->
<html lang="es" dir="ltr">
	<head>
		<!-- Metadatos -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">
		<title data-i18n="Búsqueda de beneficiarios"></title>
		<!--Favicon-->
		<link rel="shortcut icon" type="image/x-icon" href="../comun/dist/images/favicon.ico" >
		
		<!-- Bootstrap Core CSS -->
		<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
		
		<!-- JQUERY UI CSS -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		
		<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.6.1/css/bootstrap-slider.css" rel="stylesheet">
		
		<!-- DATATABLES CSS -->
		<link href="vendor/datatables/css/dataTables.bootstrap.min.css" rel="stylesheet">

		<!-- DataTables Responsive CSS -->
		<link href="vendor/datatables-responsive/dataTables.responsive.css" rel="stylesheet">
		
		<!-- Custom Fonts -->
		<link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
		
		<!-- Hojas de estilos internos -->
		<link rel="stylesheet" href="../comun/dist/css/main.css">
		<link rel="stylesheet" href="../comun/dist/css/ciudadesAbiertas.css">
		<link rel="stylesheet" href="dist/css/subvenciones.css">
		<link rel="stylesheet" href="dist/css/custom.css">

	</head>

	<body>
		<div class="container-fluid">
			<div class="row">
				<div class="divslider">	
					<input title="Filtro año" id="filtroAnyoBen" type="text" aria-label="filtroAnyos"/>
				</div>
			</div>
			
			<div class="row">
				<div class="col-sm-6"> 
					<div class="panel panel-default" id="panelGraficoSuperiorIzquierda">
						<div id="cabeceraArribaIzquierda" class="panel-heading" role="heading" aria-level="2" data-i18n="top_10_gasto_concesion">
							Top 10 del gasto por concesión
						</div>
						<div class="panel-body">
								<div id="chartdivGraficoSuperiorIzquierda" class="chart350"></div>
						</div>
						<div class="panel-footer">
							<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_benSupIzq')" data-i18n="mostar_ocultar_datos">Mostar/Ocultar datos</button>
							<div id="datos_benSupIzq" style="display:none;width:100%"></div>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="panel panel-default" id="panelGraficoSuperiorDerecha">
						<div class="panel-heading" id="cabeceraArribaDerecha" role="heading" aria-level="2" data-i18n="top_10_numero_concesion">
							Top 10 del número por concesión
						</div>
						<div class="panel-body">
								<div id="chartdivGraficoSuperiorDerecha" class="chart350"></div>
						</div> 
						<div class="panel-footer">
							<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_benSupDer')" data-i18n="mostar_ocultar_datos">Mostar/Ocultar datos</button>
							<div id="datos_benSupDer" style="display:none;width:100%"></div>
						</div>      
					</div>   
				</div>	
			</div>
			
			<div class="row ">
				<div class="col-sm-12"> 
					<div class="panel panel-default">
						<div class="panel-heading" role="heading" aria-level="2" data-i18n="buscador_concesiones">Buscador de beneficiarios</div>
						<div class="panel-body fondoFormulario">
							<div class="container-fluid">
								<div class="row cuerpo">			
									<div class="col-sm-12">
										<div class="row lineForm">
											<div class="col-sm-1">
												<label for="buscadorNombre" class="col-form-label" data-i18n="nombre:">Nombre:</label>
											</div>
											<div class="col-sm-3">
												<input class="form-control" id="buscadorNombre" placeholder="Cumplimente el nombre">
											</div>	
											<div class="col-sm-1">
												<label for="buscadorDNI" class="col-form-label" data-i18n="dni_cif:">DNI / CIF:</label>
											</div>
											<div class="col-sm-3">
												<input class="form-control" id="buscadorDNI" placeholder="Cumplimente DNI o CIF" >
											</div>										
											<div class="col-sm-1">
												<label for="selectTipoBeneficiario" class="col-form-label" data-i18n="tipo:">Tipo:</label>
											</div>
											<div class="col-sm-3">
												<select class="form-control" id="selectTipoBeneficiario" ></select>
											</div>
										</div>
										<div class="row lineForm">
												<div class="col-sm-2">
													<label data-i18n="fecha_solicitud">Fecha solicitud</label>
												</div>
												<div class="col-sm-1">
													<label for="selectAnyoSol" class="col-form-label" data-i18n="anyo">Año</label>
												</div>
												<div class="col-sm-1">
													<select class="form-control" id="selectAnyoSol"></select>
												</div>
												<div class="col-sm-1">
													<label for="fechaSolDesde" class="col-form-label" data-i18n="desde:">Desde:</label><span class="txtpeq">dd/mm/yyyy</span>
												</div>
												<div class="col-sm-2">
													<input class="form-control" id="fechaSolDesde" type="text" placeholder="dd/MM/yyyy">
												</div>
												<div class="col-sm-1">
													<button type="button" class="btn btn-primary fa fa-calendar" id="botonSolDesde" aria-label="Abrir calendario"></button>
												</div>
												<div class="col-sm-1">
													<label for="fechaSolHasta" class="col-form-label" data-i18n="hasta:" >Hasta:</label><span class="txtpeq">dd/mm/yyyy</span>
												</div>
												<div class="col-sm-2">
													<input class="form-control" id="fechaSolHasta" type="text" placeholder="dd/MM/yyyy">	
												</div>
												<div class="col-sm-1">
													<button type="button" class="btn btn-primary fa fa-calendar" id="botonSolHasta" aria-label="Abrir calendario"></button>
												</div>
										</div>
										<div class="row lineForm">
												<div class="col-sm-2">
													<label data-i18n="fecha_adjudicacion">Fecha adjudicación</label>
												</div>
												<div class="col-sm-1">
													<label for="selectAnyoAdj" class="col-form-label" data-i18n="anyo">Año</label>
												</div>
												<div class="col-sm-1">
													<select class="form-control" id="selectAnyoAdj"></select>
												</div>
												<div class="col-sm-1">
													<label for="fechaAdjDesde" class="col-form-label" data-i18n="desde:">Desde:</label><span class="txtpeq">dd/mm/yyyy</span>
												</div>
												<div class="col-sm-2">
													<input class="form-control" id="fechaAdjDesde" type="text" placeholder="dd/MM/yyyy">
												</div>
												<div class="col-sm-1">
													<button type="button" class="btn btn-primary fa fa-calendar" id="botonAdjDesde" aria-label="Abrir calendario"></button>
												</div>
												<div class="col-sm-1">
													<label for="fechaAdjHasta" class="col-form-label" data-i18n="hasta:" >Hasta:</label><span class="txtpeq">dd/mm/yyyy</span>
												</div>
												<div class="col-sm-2">
													<input class="form-control" id="fechaAdjHasta" type="text" placeholder="dd/MM/yyyy">	
												</div>
												<div class="col-sm-1">
													<button type="button" class="btn btn-primary fa fa-calendar" id="botonAdjHasta" aria-label="Abrir calendario"></button>
												</div>
										</div>
										<div class="row lineForm">
												<div class="col-sm-4">
													<label data-i18n="importe_solicitado">Importe solicitado</label>
												</div>
												<div class="col-sm-1">
													<label for="importeSolDesde" class="col-form-label" data-i18n="desde:">Desde:</label>
												</div>
												<div class="col-sm-3">
													<input class="form-control" type="text" id="importeSolDesde">
												</div>
												<div class="col-sm-1">
													<label for="importeSolHasta" class="col-form-label" data-i18n="hasta:">Hasta:</label>
												</div>
												<div class="col-sm-3">
													<input class="form-control" type="text" id="importeSolHasta">
												</div>
										</div>
										<div class="row lineForm">
												<div class="col-sm-4">
													<label data-i18n="importe_concedido">Importe concedido</label>
												</div>
												<div class="col-sm-1">
													<label for="importeConDesde" class="col-form-label" data-i18n="desde:">Desde:</label>
												</div>
												<div class="col-sm-3">
													<input class="form-control" type="text" id="importeConDesde">
												</div>
												<div class="col-sm-1">
													<label for="importeConHasta" class="col-form-label" data-i18n="hasta:">Hasta:</label>
												</div>
												<div class="col-sm-3">
													<input class="form-control" type="text" id="importeConHasta">
												</div>
										</div>
										<div class="row lineForm">
											<div class="col-sm-1 col-sm-offset-5">
												<button type="button" class="btn btn-primary" id="buscarListado">
													<span data-i18n="buscar"></span>
													<span class="fa fa-search"></span>
												</button>
											</div>
											<div class="col-sm-1 col-sm-offset-1">
												<button type="reset" class="btn btn-primary" id="botonLimpiar" onclick="limpiarFormularioBen();">
													<span data-i18n="limpiar"></span>
													<span class="fa fa-refresh"></span>
												</button>
											</div>
										</div>
									</div>						
								</div>
								
								<div class="row">
									<div class="col-sm-12">
										<div id="lineaTabla" class="table-responsive">
											<table class="table table-striped table-bordered table-hover" id="tablaBeneficiarios">
												<thead>
													<span class="textoNegrita" data-i18n="criterios_busqueda">CRITERIOS DE BÚSQUEDA</span>
													<p id="textoBusquedaTabla"></p>
													<tr id="tablaBeneficiariosTHead">                                       
													</tr>
												</thead>
												<tbody id="tablaBeneficiariosBody">
												</tbody>								
												<tfoot></tfoot>
											</table>
										</div>
									</div>
								</div>	
								
								<div class="row">	
									<div class="col-sm-12">																
										<div id="botoneraDescarga">
											<button type="button" class="btn btn-primary" id="descargaCSV">								
												<span>CSV</span>
												<span class="fa fa-table"></span>
											</button>
											<button type="button" class="btn btn-primary" id="descargaJSON">								
												<span>JSON</span>
												<span class="fa fa-list-alt"></span>
											</button>
											<button type="button" class="btn btn-primary" id="descargaExcel">									
												<span>EXCEL</span>
												<span class="fa fa-file-excel-o"></span>
											</button>
											<button type="button" class="btn btn-primary" id="descargaPDF">									
												<span>PDF</span>
												<span class="fa fa-file-pdf-o"></span>
											</button>
											<button type="button" class="btn btn-primary" id="descargaCopiar">									
												<span>COPIAR</span>
												<span class="fa fa-copy"></span>
											</button>
										</div>
									</div>
								</div>

								<div class="row">
									<div class="col-sm-12">
										<div class="table-responsive">
											<table class="table table-striped table-bordered table-hover tablaBeneficiarios" id="tablaBeneficiariosCompleta">
												<thead>
													<tr id="tablaBeneficiariosCompletaTHead">
														<th>cabecera</th>
													</tr>
												</thead>
												<tbody id="tablaBeneficiariosCompletaBody">
												</tbody>								
												<tfoot></tfoot>
											</table>
										</div>							
									</div>
								</div>

								<div class="row" id="lineaGraficosBusquedaBen" >
									<div class="col-sm-12">
										<span class="textoNegrita" data-i18n="graficos_busqueda">GRÁFICOS DE LA BÚSQUEDA</span>
										<p data-i18n="explicacionBusquedaGraficosBen">
											Estos gráficos están elaborados con el resultado de la busqueda realizada. 
										</p>
										<span class="textoNegrita" data-i18n="filtros_graficos">FILTROS DE LOS GRÁFICOS</span>
										<p id="textoBusquedaGraficos"></p>
									</div>
									<div class="col-sm-6"> 
										<div class="panel panel-default" id="panelGraficoInferiorIzquierda">
											<div class="panel-heading">
												<i class="fa fa-bar-chart-o fa-fw"></i> <span data-i18n="top_10_importe_concesion">Top 50 del gasto por beneficiario</span>
											</div>
											<div class="panel-body">
													<div id="chartdivGraficoInferiorIzquierda" class="chart350"></div>
											</div>
											<div class="panel-footer">
												<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_benInfIzq')" data-i18n="mostar_ocultar_datos">Mostar/Ocultar datos</button>
												<div id="datos_benInfIzq" style="display:none;width:100%"></div>
											</div>
										</div>
									</div>
									<div class="col-sm-6">
										<div class="panel panel-default" id="panelGraficoInferiorDerecha">
											<div class="panel-heading">
												<i class="fa fa-bar-chart-o fa-fw"></i> <span data-i18n="top_10_numero_concesion">Top 10 del número por concesión</span>
											</div>
											<div class="panel-body">
													<div id="chartdivGraficoInferiorDerecha" class="chart350"></div>
											</div>	
											<div class="panel-footer">
												<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_benInfDer')" data-i18n="mostar_ocultar_datos">Mostar/Ocultar datos</button>
												<div id="datos_benInfDer" style="display:none;width:100%"></div>
											</div>						
										</div>
									</div>	
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- jQuery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		
		<!-- jQuery UI -->
		<script src="vendor/jquery-ui/jquery-ui.js"></script>
		<script src="vendor/jquery-ui/datepickerEs.js"></script>
		
		<!-- Bootstrap Core -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>

		<!-- DataTables -->
		<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
		<script src="vendor/datatables/js/dataTables.bootstrap.min.js"></script>
		<script src="https://cdn.datatables.net/responsive/1.0.6/js/dataTables.responsive.js"></script>
		<script src="https://cdn.datatables.net/buttons/1.7.1/js/dataTables.buttons.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js" type="text/javascript"></script>
		<script src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/colreorder/1.5.4/js/dataTables.colReorder.min.js"
        type="text/javascript"></script>
    <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.colVis.min.js" type="text/javascript"></script>

		<!-- Bootstrap-slider -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.js" integrity="sha512-tCkLWlSXiiMsUaDl5+8bqwpGXXh0zZsgzX6pB9IQCZH+8iwXRYfcCpdxl/owoM6U4ap7QZDW4kw7djQUiQ4G2A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>>

		<!-- Amcharts Visualizations-->
		<script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="https://cdn.amcharts.com/lib/version/4.10.19/themes/frozen.js"></script>
    <script src="https://cdn.amcharts.com/lib/version/4.10.19/themes/animated.js"></script>
    <script src="https://cdn.amcharts.com/lib/version/4.10.19/lang/es_ES.js"></script>
		
		<!-- Normalización de datos -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
		<script src="vendor/datejs/date-es-ES.js"></script>
		
		<!-- Multiidoma -->	
		<script src="vendor/CLDRPluralRuleParser/CLDRPluralRuleParser.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.messagestore.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.fallbacks.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.language.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.parser.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.emitter.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.emitter.bidi.min.js"></script>
		
		<!-- Scripts internos -->
		<script src="dist/js/constantes.js"></script>
		<script src="dist/js/general.js"></script>
		<script src="dist/js/busqueda_concesiones.js"></script>
		
		<script>
			$(document).ready(function() {
				initComun();
				inicializaBusquedaBeneficiarios();
			});
		</script>

	</body>
</html>
