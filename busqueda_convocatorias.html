<!DOCTYPE html>
<!--
Copyright 2020 Ayuntamiento de A Coruña, Ayuntamiento de Madrid, Ayuntamiento de Santiago de Compostela, Ayuntamiento de Zaragoza, Entidad Pública Empresarial Red.es

This visualization is part of the actions carried out within the "Ciudades Abiertas" project.

Licensed under the EUPL, Version 1.2 or – as soon they will be approved by the European Commission - subsequent versions of the EUPL (the "Licence");
You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at:

https://joinup.ec.europa.eu/software/page/eupl

Unless required by applicable law or agreed to in writing, software distributed under the Licence is distributed on an "AS IS" basis,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the Licence for the specific language governing permissions and limitations under the Licence.
-->
<html lang="es" dir="ltr">

	<head>
		<!-- Metadatos -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">
		<title data-i18n="Búsqueda de subvenciones"></title>
		<!--Favicon-->
		<link rel="shortcut icon" type="image/x-icon" href="../comun/dist/images/favicon.ico" >
			
		<!-- Bootstrap Core CSS -->
		<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
		
		<!-- JQUERY UI CSS -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		
		<!-- DATATABLES CSS -->
		<link href="vendor/datatables/css/dataTables.bootstrap.min.css" rel="stylesheet">

		<!-- DataTables Responsive CSS -->
		<link href="vendor/datatables-responsive/dataTables.responsive.css" rel="stylesheet">
		
		<!-- bootstrap-slider -->
		<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.6.1/css/bootstrap-slider.css" rel="stylesheet">

		<!-- Custom Fonts -->
		<link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
		
		<!-- Hojas de estilos internos -->
		<link rel="stylesheet" href="../comun/dist/css/main.css">
		<link rel="stylesheet" href="../comun/dist/css/ciudadesAbiertas.css">
		<link rel="stylesheet" href="dist/css/subvenciones.css">
		<link rel="stylesheet" href="dist/css/custom.css">

	</head>

	<body>
		<div class="container-fluid">
			<div class="row">
				<div class="divslider">	
					<input id="filtroAnyoConv" type="text" aria-label="filtroAnyos"/>
				</div>
			</div>
			
			<div class="row">
				<div class="col-sm-6"> 
					<div class="panel panel-default" id="panelGraficoSuperiorIzquierda">
						<div id="cabeceraArribaIzquierda" class="panel-heading" role="heading" aria-level="2">
							Número de convocatorias por Área
						</div>
						<div class="panel-body">
								<div id="chartdivGraficoSuperiorIzquierda" class="chart350"></div>
						</div>
						<div class="panel-footer">
							<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_subSupIzq')" data-i18n="mostar_ocultar_datos">Mostar/Ocultar datos</button>
							<div id="datos_subSupIzq" style="display:none;width:100%"></div>
						</div>
					</div>
				</div>
				
				<div class="col-sm-6">
					<div class="panel panel-default" id="panelGraficoSuperiorDerecha">
						<div id="cabeceraArribaDerecha" class="panel-heading" role="heading" aria-level="2">
							Subvenciones por línea de financiación
						</div>
						<div class="panel-body">
								<div id="chartdivGraficoSuperiorDerecha" class="chart350"></div>
						</div>  
						<div class="panel-footer">
							<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_subSupDer')" data-i18n="mostar_ocultar_datos">Mostar/Ocultar datos</button>
							<div id="datos_subSupDer" style="display:none;width:100%"></div>
						</div> 		
					</div> 
				</div>	
			</div>
			
			<div class="row ">
				<div class="col-sm-12">
					<div class="panel panel-default">
						<div class="panel-heading" role="heading" aria-level="2" data-i18n="buscador_convocatorias">
							Buscador de subvenciones
						</div>
						<div class="panel-body fondoFormulario">
							<div class="container-fluid">
								<div class="row cuerpo">			
									<div class="col-sm-12">											
										<div class="row lineForm">
											<div class="col-sm-2">
												<label for="buscadorNombre" class="col-form-label" data-i18n="nombre:">Nombre:</label>
											</div>	
											<div class="col-sm-4">
												<input class="form-control" id="buscadorNombre" placeholder="Cumplimente el nombre">
											</div>
											<div class="col-sm-2">
												<label for="selectEntidadFinanciadora" class="col-form-label" data-i18n="entidad_financiadora:">Entidad financiadora:</label>
											</div>	
											<div class="col-sm-4">
												<select class="form-control" id="selectEntidadFinanciadora"></select>
											</div>											
										</div>
										
										<div class="row lineForm">
											<div class="col-sm-2">
												<label for="selectNombreArea" class="col-form-label" data-i18n="nombre_area:">Area:</label>
											</div>	
											<div class="col-sm-4">
												<select class="form-control" id="selectNombreArea"></select>
											</div>	
											<div class="col-sm-2">
												<label for="selectServicio" class="col-form-label" data-i18n="servicio:">Servicio:</label>
											</div>	
											<div class="col-sm-4">
												<select class="form-control" id="selectServicio"></select>
											</div>												
										</div>
										
										<div class="row lineForm">
											<div class="col-sm-2">
												<label for="selectTipoProcedimiento" class="col-form-label" data-i18n="tipo_procedimiento:">Tipo de procedimiento:</label>
											</div>
											<div class="col-sm-4">
												<select class="form-control" id="selectTipoProcedimiento"></select>
											</div>	
											<div class="col-sm-2">
												<label for="selectNominativa" class="col-form-label" data-i18n="nominativa:">Nominativa:</label>
											</div>	
											<div class="col-sm-4">
												<select class="form-control" id="selectNominativa"></select>
											</div>												
										</div>
										
										<div class="row lineForm">
											<div class="col-sm-2">
												<label for="selectTipoInstrumento" class="col-form-label" data-i18n="tipo_instrumento:">Tipo instrumento:</label>
											</div>
											<div class="col-sm-4">
												<select class="form-control" id="selectTipoInstrumento"></select>
											</div>
											<div class="col-sm-2">
												<label for="selectInstrumenta" class="col-form-label" data-i18n="convenio:">Covenio:</label>
											</div>	
											<div class="col-sm-4">
												<select class="form-control" id="selectInstrumenta" ></select>
											</div>						
										</div>
										
										<div class="row lineForm">
											<div class="col-sm-2">
												<label for="selectTematica" class="col-form-label" data-i18n="tematica:">tematica:</label>
											</div>
											<div class="col-sm-4">
												<select class="form-control" id="selectTematica" ></select>
											</div>
											<div class="col-sm-2">
												<label for="buscadorObjeto" class="col-form-label" data-i18n="finalidad:">finalidad:</label>
											</div>
											<div class="col-sm-4">
												<input class="form-control" id="buscadorObjeto" placeholder="Cumplimente la finalidad">
											</div>						
										</div>
										
										<div class="row lineForm">
											<div class="col-sm-2">
												<label for="buscadorclasificacionPrograma" class="col-form-label" data-i18n="clasificacion_programa:">Clasificacion Programa:</label>
											</div>
											<div class="col-sm-4">
												<input class="form-control" id="buscadorclasificacionPrograma" placeholder="Cumplimente la clasificacionPrograma">
											</div>						
											<div class="col-sm-2">
												<label for="buscadorclasificacionEconomicaGasto" class="col-form-label" data-i18n="clasificacion_economica_gasto:">clasificacion Economica Gasto:</label>
											</div>	
											<div class="col-sm-4">
												<input class="form-control" id="buscadorclasificacionEconomicaGasto" placeholder="Cumplimente la clasificacion Economica Gasto">
											</div>						
										</div>
										
										<div class="row lineForm">
												<div class="col-sm-2">
													<label data-i18n="fecha_acuerdo">Fecha acuerdo</label>
												</div>
												<div class="col-sm-1">
													<label for="selectAnyo" class="col-form-label" data-i18n="anyo">Año</label>
												</div>
												<div class="col-sm-1">
													<select class="form-control" id="selectAnyo"></select>
												</div>
												<div class="col-sm-1">
													<label for="desde" class="col-form-label" data-i18n="desde:">Desde:</span></label><span class="txtpeq">dd/mm/yyyy</span>
												</div>
												<div class="col-sm-2">
													<input class="form-control" id="desde" type="text" placeholder="dd/MM/yyyy">
												</div>
												<div class="col-sm-1">
													<button type="button" class="btn btn-primary fa fa-calendar" id="botonDesde" aria-label="Abrir calendario"></button>
												</div>
												<div class="col-sm-1">
													<label for="hasta" class="col-form-label" data-i18n="hasta:" >Hasta:</label><span class="txtpeq">dd/mm/yyyy</span>
												</div>
												<div class="col-sm-2">
													<input class="form-control" id="hasta" type="text" placeholder="dd/MM/yyyy">	
												</div>
												<div class="col-sm-1">
													<button type="button" class="btn btn-primary fa fa-calendar" id="botonHasta" aria-label="Abrir calendario"></button>
												</div>
										</div>
										<div class="row lineForm">
												<div class="col-sm-4">
													<label data-i18n="importe_total_presupuestado">Importe total presupuestado</label>
												</div>
												<div class="col-sm-1">
													<label for="importeDesde" class="col-form-label" data-i18n="desde:">Desde:</label>
												</div>
												<div class="col-sm-3">
													<input class="form-control" type="text" id="importeDesde">
												</div>
												<div class="col-sm-1">
													<label for="importeHasta" class="col-form-label" data-i18n="hasta:">Hasta:</label>
												</div>
												<div class="col-sm-3">
													<input class="form-control" type="text" id="importeHasta">
												</div>
										</div>
										<div class="row lineForm">
												<div class="col-sm-4">
													<label data-i18n="importe_total_concedido">Importe total concedido</label>
												</div>
												<div class="col-sm-1">
													<label for="importeConcedidoDesde" class="col-form-label" data-i18n="desde:">Desde:</label>
												</div>
												<div class="col-sm-3">
													<input class="form-control" type="text" id="importeConcedidoDesde">
												</div>
												<div class="col-sm-1">
													<label for="importeConcedidoHasta" class="col-form-label" data-i18n="hasta:">Hasta:</label>
												</div>
												<div class="col-sm-3">
													<input class="form-control" type="text" id="importeConcedidoHasta">
												</div>
										</div>
										<div class="row lineForm">																
											<div class="col-sm-1 col-sm-offset-5">
												<button type="button" class="btn btn-primary" id="buscarListado">
													<span data-i18n="buscar"></span>
													<span class="fa fa-search"></span>
												</button>
											</div>
											<div class="col-sm-1 col-sm-offset-1">
												<button type="reset" class="btn btn-primary" id="botonLimpiar" onclick="limpiarFormularioSub();">
													<span data-i18n="limpiar"></span>
													<span class="fa fa-refresh"></span>
												</button>
											</div>
										</div>								
									</div>
								</div>

								<div class="row">
									<div class="col-sm-12">	
										<div class="table-responsive">
											<table class="table table-striped table-bordered table-hover tablaSubvenciones" id="tablaSubvenciones">
												<thead>
													<span class="textoNegrita" data-i18n="criterios_busqueda"></span>
													<p id="textoBusquedaTabla"></p>
													<tr id="tablaSubvencionesTHead">                                       
													</tr>
												</thead>
												<tbody id="tablaSubvencionesBody">
												</tbody>								
												<tfoot></tfoot>
											</table>
										</div>							
									</div>
								</div>

								<div class="row">	
									<div class="col-sm-12">																
										<div id="botoneraDescarga">
											<button type="button" class="btn btn-primary" id="descargaCSV">								
												<span>CSV</span>
												<span class="fa fa-table"></span>
											</button>
											<button type="button" class="btn btn-primary" id="descargaJSON">								
												<span>JSON</span>
												<span class="fa fa-list-alt"></span>
											</button>
											<button type="button" class="btn btn-primary" id="descargaExcel">									
												<span>EXCEL</span>
												<span class="fa fa-file-excel-o"></span>
											</button>
											<button type="button" class="btn btn-primary" id="descargaPDF">									
												<span>PDF</span>
												<span class="fa fa-file-pdf-o"></span>
											</button>
											<button type="button" class="btn btn-primary" id="descargaCopiar">									
												<span>COPIAR</span>
												<span class="fa fa-copy"></span>
											</button>
										</div>
									</div>
								</div>

								<div class="row">
									<div class="col-sm-12">	
										<div class="table-responsive">
											<table class="table table-striped table-bordered table-hover tablaSubvenciones" id="tablaSubvencionesCompleta">
												<thead>
													<tr id="tablaSubvencionesCompletaTHead">
														<th>cabecera</th>
													  </tr>
												</thead>
												<tbody id="tablaSubvencionesCompletaBody">
												</tbody>								
												<tfoot></tfoot>
											</table>
										</div>							
									</div>
								</div>
								<div class="row" id="lineaGraficosBusquedaSub" >
									<div class="col-sm-12">
										<span class="textoNegrita" data-i18n="graficos_busqueda">GRÁFICOS DE LA BÚSQUEDA</span>
										<p data-i18n="explicacionBusquedaGraficosSub">
											Estos gráficos están elaborados con el resultado de la busqueda realizada. 
										</p>
										<span class="textoNegrita" data-i18n="filtros_graficos">FILTROS DE LOS GRÁFICOS</span>
										<p id="textoBusquedaGraficos"></p>
									</div>
									<div class="col-sm-6"> 
										<div class="panel panel-default" id="panelGraficoInferiorIzquierda">
											<div class="panel-heading">
												<i class="fa fa-bar-chart-o fa-fw"></i> <span data-i18n="convocatorias_tematica">Subvenciones por linea de financiación</span>
											</div>
											<div class="panel-body">
												<div id="chartdivGraficoInferiorIzquierda" class="chart350"></div>
											</div>
											<div class="panel-footer">
												<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_subInfIzq')" data-i18n="mostar_ocultar_datos">Mostar/Ocultar datos</button>
												<div id="datos_subInfIzq" style="display:none;width:100%"></div>
											</div>
										</div>
									</div>
									<div class="col-sm-6">
										<div class="panel panel-default" id="panelGraficoInferiorDerecha">
											<div class="panel-heading">
												<i class="fa fa-bar-chart-o fa-fw"></i> <span data-i18n="convocatorias_tipo_instrumento">Número de convocatorias por tipo de instrumento</span>
											</div>
											<div class="panel-body">
													<div id="chartdivGraficoInferiorDerecha" class="chart350"></div>
											</div>  
											<div class="panel-footer">
												<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_subInfDer')" data-i18n="mostar_ocultar_datos">Mostar/Ocultar datos</button>
												<div id="datos_subInfDer" style="display:none;width:100%"></div>
											  </div>     
										</div> 
									</div>	
																		
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Scripts JavaScript -->
		
		<!-- jQuery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		
		<!-- jQuery UI-->
		<script src="vendor/jquery-ui/jquery-ui.js"></script>
		<script src="vendor/jquery-ui/datepickerEs.js"></script>
		
		<!-- Bootstrap Core -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>

		<!-- DataTables -->
		<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
		<script src="vendor/datatables/js/dataTables.bootstrap.min.js"></script>
		<script src="https://cdn.datatables.net/responsive/1.0.6/js/dataTables.responsive.js"></script>
		<script src="https://cdn.datatables.net/buttons/1.7.1/js/dataTables.buttons.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js" type="text/javascript"></script>
		<script src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/colreorder/1.5.4/js/dataTables.colReorder.min.js"
        type="text/javascript"></script>
    <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.colVis.min.js" type="text/javascript"></script>

		<!-- bootstrap-slider -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.js" integrity="sha512-tCkLWlSXiiMsUaDl5+8bqwpGXXh0zZsgzX6pB9IQCZH+8iwXRYfcCpdxl/owoM6U4ap7QZDW4kw7djQUiQ4G2A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>>
		
		<!-- Amcharts Visualizations-->
		<script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="https://cdn.amcharts.com/lib/version/4.10.19/themes/frozen.js"></script>
    <script src="https://cdn.amcharts.com/lib/version/4.10.19/themes/animated.js"></script>
    <script src="https://cdn.amcharts.com/lib/version/4.10.19/lang/es_ES.js"></script>
		
		<!-- Normalización de datos -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
		<script src="vendor/datejs/date-es-ES.js"></script>
		
		<!-- Multiidoma -->	
		<script src="vendor/CLDRPluralRuleParser/CLDRPluralRuleParser.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.messagestore.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.fallbacks.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.language.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.parser.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.emitter.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.7/jquery.i18n.emitter.bidi.min.js"></script>
		
		<!-- Scripts internos -->
		<script src="dist/js/constantes.js"></script>
		<script src="dist/js/general.js"></script>
		<script src="dist/js/busqueda_convocatorias.js"></script>
		
		<script>
			$(document).ready(function() {
				initComun();
				inicializaBusquedaSubvenciones();
			} );
		</script>

	</body>
</html>
