<!DOCTYPE html>
<!--
Copyright 2020 Ayuntamiento de A Coruña, Ayuntamiento de Madrid, Ayuntamiento de Santiago de Compostela, Ayuntamiento de Zaragoza, Entidad Pública Empresarial Red.es

This file is part of the CKAN "Abrir con" extension, developed within the "Ciudades Abiertas" project.

Licensed under the EUPL, Version 1.2 or – as soon they will be approved by the European Commission - subsequent versions of the EUPL (the "Licence");
You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at:

https://joinup.ec.europa.eu/software/page/eupl

Unless required by applicable law or agreed to in writing, software distributed under the Licence is distributed on an "AS IS" basis,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the Licence for the specific language governing permissions and limitations under the Licence.
-->
<html lang="es" dir="ltr">

	<head>
		<!-- Metadatos -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">
		<title data-i18n="Búsqueda de beneficiarios"></title>
		<!--Favicon-->
		<link rel="shortcut icon" type="image/x-icon" href="dist/images/favicon.ico" >
		
		<!-- Bootstrap Core CSS -->
		<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
		
		<!-- JQUERY UI CSS -->
		<link  href="vendor/jquery-ui/jquery-ui.css" rel="stylesheet">
		
		<link href="vendor/bootstrap-slider/css/bootstrap-slider.css" rel="stylesheet">
		
		<!-- DATATABLES CSS -->
		<link href="vendor/datatables/css/dataTables.bootstrap.min.css" rel="stylesheet">

		<!-- DataTables Responsive CSS -->
		<link href="vendor/datatables-responsive/dataTables.responsive.css" rel="stylesheet">
		
		<!-- Custom Fonts -->
		<link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
		
		<!-- Hoja de estilos internos -->
		<link href="dist/css/ciudadesAbiertas.css" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="dist/css/subvenciones.css?v=2">

		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->

	</head>

	<body>
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-7 col-md-offset-5 col-xs-10 col-xs-offset-2">	
					<input title="Filtro año" id="filtroAnyoBen" type="text" data-slider-ticks="[]" data-slider-ticks-labels='[]' />
				</div>
			</div>
			
			<!-- /.row -->
			<div class="row">
				<div class="col-sm-6"> 
					<div class="panel panel-default" id="panelGraficoImporteArea">
						<div id="cabeceraArribaIzquierda" class="panel-heading" role="heading" aria-level="2" data-i18n="top_10_gasto_beneficiarios">
							Top 10 del gasto por beneficiarios
						</div>
						<!-- /.panel-heading --> 
						<div class="panel-body">
							<!-- <div class="chartwrapper"> -->
								<div id="chartGeneralSuperiorIzquierda" class="chartdivArea"></div>
								<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_benSupIzq')">Mostar/Ocultar datos</button>
								<div id="datos_benSupIzq" style="display:none;width:100%"></div>
							<!-- </div> -->
						</div>
						<!-- /.panel-body -->
					</div>
					<!-- /.panel -->
				</div>
				<div class="col-sm-6">
					<div class="panel panel-default" id="panelGraficoImporteLinea">
						<div class="panel-heading" id="cabeceraArribaDerecha" role="heading" aria-level="2" data-i18n="top_10_numero_subvenciones_beneficiario">
							Top 10 del número de subvenciones por beneficiario
						</div>
						<!-- /.panel-heading --> 
						<div class="panel-body">
							<!-- <div class="chartwrapper"> -->
								<div id="chartGeneralSuperiorDerecha" class="chartdivArea"></div>
								<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_benSupDer')">Mostar/Ocultar datos</button>
								<div id="datos_benSupDer" style="display:none;width:100%"></div>
							<!-- </div>                             -->
						</div>        
						<!-- /.panel-body -->
					</div>   
					<!-- /.panel -->
				</div>	
			</div>
			<!-- /.row -->
			
			<div class="row">
				<div class="col-sm-12"> 
					<div class="panel panel-default">
						<div class="panel-heading" role="heading" aria-level="2" data-i18n="buscador_beneficiarios">Buscador de beneficiarios</div>
						<!-- /.panel-heading -->
						<div class="panel-body fondoFormulario">
							<!-- Navigation -->
							<div class="container-fluid">
								<div class="row">			
									<div class="col-sm-11 col-sm-offset-1">
										<div class="row lineForm">
											<div class="col-sm-2">
												<label for="buscadorNombre" class="col-form-label" data-i18n="nombre:">Nombre:</label>
											</div>
											<div class="col-sm-10">
												<input class="form-control" id="buscadorNombre" placeholder="Cumplimente el nombre">
											</div>						
										</div>
										<!-- /.row -->
										<div class="row lineForm">
											<div class="col-sm-2">
												<label for="buscadorDNI" class="col-form-label" data-i18n="dni_cif:">DNI / CIF:</label>
											</div>
											<div class="col-sm-2">
												<input class="form-control" id="buscadorDNI" placeholder="Cumplimente DNI o CIF" >
											</div>
											<div class="col-sm-1">
												<label for="selectTipoBeneficiario" class="col-sm-3 col-form-label" data-i18n="tipo:">Tipo:</label>
											</div>
											<div class="col-sm-7">
												<select class="form-control" id="selectTipoBeneficiario" ></select>
											</div>
										</div>
										<!-- /.row -->
										<div class="row lineForm">
											<fieldset>
												<div class="col-sm-1">
													<legend data-i18n="fecha_adjudicacion">Fecha adjudicación</legend>
												</div>
												<div class="col-sm-1">
													<label for="selectAnyo" class="col-sm-2 col-form-label" data-i18n="anyo">Año</label>
												</div>
												<div class="col-sm-2">
													<select class="form-control" id="selectAnyo"></select>
												</div>
												<div class="col-sm-1">
													<label for="desde" class="col-form-label" data-i18n="desde:">Desde:</label>
												</div>
												<div class="col-sm-2">
													<input class="form-control" id="desde" type="text" placeholder="dd/MM/yyyy">
												</div>
												<div class="col-sm-1">
													<button type="button" class="btn btn-primary fa fa-calendar" id="botonDesde"></button>
												</div>
												<div class="col-sm-1">
													<label for="hasta" class="col-form-label" data-i18n="hasta:" >Hasta:</label>
												</div>
												<div class="col-sm-2">
													<input class="form-control" id="hasta" type="text" placeholder="dd/MM/yyyy">	
												</div>
												<div class="col-sm-1">
													<button type="button" class="btn btn-primary fa fa-calendar" id="botonHasta"></button>
												</div>
											</fieldset>
										</div>
										<!-- /.row -->
										<div class="row lineForm">
											<fieldset>
												<div class="col-sm-4">
													<legend data-i18n="importe_concedido">Importe concedido</legend>
												</div>
												<div class="col-sm-1">
													<label for="importeDesde" class="col-form-label" data-i18n="desde:">Desde:</label>
												</div>
												<div class="col-sm-3">
													<input class="form-control" type="text" id="importeDesde">
												</div>
												<div class="col-sm-1">
													<label for="hasta" class="col-form-label" data-i18n="hasta:">Hasta:</label>
												</div>
												<div class="col-sm-3">
													<input class="form-control" type="text" id="importeHasta">
												</div>
											</fieldset>
										</div>
										<!-- /.row -->
										<div class="row lineForm">
											<div class="col-sm-1 col-sm-offset-8">
												<button type="button" class="btn btn-primary" id="buscarListado">
													<span class="fa fa-search"></span>
													<span data-i18n="buscar"></span>
												</button>
											</div>
											<div class="col-sm-1 col-sm-offset-1">
												<button type="reset" class="btn btn-primary" id="botonLimpiar" onclick="limpiarFormularioBen();">
													<span class="fa fa-refresh"></span>
													<span data-i18n="limpiar"></span>
												</button>
											</div>
										</div>
										<!-- /.row -->
									</div>						
								</div>	
								<!-- /.row -->
								
								<div class="row">
									<div class="col-sm-12">
										<div id="lineaTabla" class="table-responsive">
											<table class="table table-striped table-bordered table-hover" id="tablaBeneficiarios">
												<thead>
													<span class="textoNegrita" data-i18n="criterios_busqueda">CRITERIOS DE BÚSQUEDA</span>
													<p id="textoBusquedaTabla"></p>
													<tr id="tablaBeneficiariosTHead">                                       
													</tr>
												</thead>
												<tbody id="tablaBeneficiariosBody">
												</tbody>								
												<tfoot></tfoot>
											</table>
										</div>
										<!-- /.table-responsive -->	
									</div>
								</div>	
								<!-- /.row -->
								
								<div class="row" id="lineaGraficosBusquedaBen" >
									<div class="col-sm-12">
										<span class="textoNegrita" data-i18n="graficos_busqueda">GRÁFICOS DE LA BÚSQUEDA</span>
										<p data-i18n="explicacionBusquedaGraficosBen">
											Estos gráficos están elaborados con el resultado de la busqueda realizada. Pudiendo así elaborar tus propios filtros a los gráficos de "Top 10 del gasto por beneficiario" y "Top 10 del número de subvenciones por beneficiario"
										</p>
										<span class="textoNegrita" data-i18n="filtros_graficos">FILTROS DE LOS GRÁFICOS</span>
										<p id="textoBusquedaGraficos"></p>
									</div>
									<div class="col-sm-6"> 
										<div class="panel panel-default" id="panelGraficoInferiorIzquierda">
											<div class="panel-heading">
												<i class="fa fa-bar-chart-o fa-fw"></i> <span data-i18n="top_50_gasto_beneficiarios">Top 50 del gasto por beneficiario</span>
											</div>
											<!-- /.panel-heading -->
											<div class="panel-body">
												<!-- <div class="chartwrapperInferior"> -->
													<div id="graficoInferiorIzquierda" class="chartdivArea"></div>
													<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_benInfIzq')">Mostar/Ocultar datos</button>
													<div id="datos_benInfIzq" style="display:none;width:100%"></div>
												<!-- </div> -->
											</div>
											<!-- /.panel-body -->
										</div>
									</div>
									<div class="col-sm-6">
										<div class="panel panel-default" id="panelGraficoInferiorDerecha">
											<div class="panel-heading">
												<i class="fa fa-bar-chart-o fa-fw"></i> <span data-i18n="top_50_numero_subvenciones_beneficiario">Top 50 del número de subvenciones por beneficiario</span>
											</div>
											<!-- /.panel-heading -->
											<div class="panel-body">
												<!-- <div class="chartwrapperInferior"> -->
													<div id="chartInferiorDerecha" class="chartdivArea"></div>
													<button id="mostarDatos" type="button" class="btn btn-link" onclick="mostrarDatos('datos_benInfDer')">Mostar/Ocultar datos</button>
													<div id="datos_benInfDer" style="display:none;width:100%"></div>
												<!-- </div>                             -->
											</div>
											<!-- /.panel-body -->								
										</div>
										<!-- /.panel -->	
									</div>	
								</div>
								<!-- /.row -->
							</div>
						</div>
						<!-- /.panel-body -->
					</div>
					<!-- /.panel -->
				</div>
			</div>
			<!-- /.row -->
		</div>
		
		<!-- jQuery -->
		<script src="vendor/jquery/jquery.min.js"></script>
		
		<!-- jQuery UI -->
		<script src="vendor/jquery-ui/jquery-ui.js"></script>
		<script src="vendor/jquery-ui/datepickerEs.js"></script>
		
		<!-- Bootstrap Core -->
		<script src="vendor/bootstrap/js/bootstrap.min.js"></script>

		<!-- DataTables -->
		<script src="vendor/datatables/js/jquery.dataTables.min.js"></script>
		<script src="vendor/datatables/js/dataTables.bootstrap.min.js"></script>
		<script src="vendor/datatables-responsive/dataTables.responsive.js"></script>
		<script src="vendor/datatables-export/dataTables.buttons.min.js" type="text/javascript"></script>
		<script src="vendor/datatables-export/jszip.min.js" type="text/javascript"></script>
		<script src="vendor/datatables-export/pdfmake.min.js" type="text/javascript"></script>
		<script src="vendor/datatables-export/vfs_fonts.js" type="text/javascript"></script>
		<script src="vendor/datatables-export/buttons.html5.min.js" type="text/javascript"></script>

		<!-- Bootstrap-slider -->
		<script src="vendor/bootstrap-slider/bootstrap-slider.js"></script>

		<!-- Amcharts Visualizations -->
		<script src="vendor/amcharts/amcharts.js" type="text/javascript"></script>
		<script src="vendor/amcharts/serial.js" type="text/javascript"></script>
		<script src="vendor/amcharts/pie.js" type="text/javascript"></script>
		<script src="vendor/amcharts/xy.js" type="text/javascript"></script>
		<script src="vendor/amcharts/themes/dark.js" type="text/javascript"></script>
		<script src="vendor/amcharts4/core.js"></script>
		<script src="vendor/amcharts4/charts.js"></script> 
		
		<!-- Normalización de datos -->
		<script src="vendor/numeral/numeral.min.js"></script>
		<script src="vendor/datejs/date-es-ES.js"></script>
		
		<!-- Multiidoma -->	
		<script src="vendor/CLDRPluralRuleParser/CLDRPluralRuleParser.js"></script>
		<script src="vendor/jquery.i18n/jquery.i18n.js"></script>
		<script src="vendor/jquery.i18n/jquery.i18n.messagestore.js"></script>
		<script src="vendor/jquery.i18n/jquery.i18n.fallbacks.js"></script>
		<script src="vendor/jquery.i18n/jquery.i18n.language.js"></script>
		<script src="vendor/jquery.i18n/jquery.i18n.parser.js"></script>
		<script src="vendor/jquery.i18n/jquery.i18n.emitter.js"></script>
		<script src="vendor/jquery.i18n/jquery.i18n.emitter.bidi.js"></script>
		
		<!-- Scripts internos -->
		<script src="dist/js/constantes.js"></script>
		<script src="dist/js/general.js"></script>
		<script src="dist/js/busqueda_beneficiarios.js"></script>
		
		<script>
			$(document).ready(function() {
				initComun();
				inicializaBusquedaBeneficiarios();
				
			});
		</script>

	</body>

</html>
